<!DOCTYPE html>
<html lang="en">
    <head>
        <title> Day 1 Piano </title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="styles.css" rel="stylesheet">
        <script type="text/javascript" src="script.js"> </script>
   </head>
    <body background="fondo.jpg">

    	<p class = "parra">
		 Piano virtual 
    	</p>
    	<p class = "description"> Cada letra corresponde a la nota en el teclado que se encuentra escrita debajo </p>

    	<div class = "keys"> 
    		<div data-key = "65" class="key"> 
    			<kbd>A</kbd> <!--kbd = Marca el texto que debe introducir el usuario. -->
    			<span class="sound">Do</span> 
    		</div> 
    		<div data-key = "83" class="key"> 
    			<kbd>S</kbd>
    			<span class="sound">Re</span> 
    		</div> 
    		<div data-key = "68" class="key"> 
    			<kbd>D</kbd>
    			<span class="sound">Mi</span> 
    		</div> 
    		<div data-key = "70" class="key"> 
    			<kbd>F</kbd>
    			<span class="sound">Fa</span> 
    		</div> 
    		<div data-key = "71" class="key"> 
    			<kbd>G</kbd>
    			<span class="sound">Sol</span> 
    		</div> 
    		<div data-key = "72" class="key"> 
    			<kbd>H</kbd>
    			<span class="sound">La</span> 
    		</div> 
    		<div data-key = "74" class="key"> 
    			<kbd>J</kbd>
    			<span class="sound">Si</span> 
    		</div> 

    	</div>

<audio data-key ="65" src="sounds/Do.wav"></audio>
<audio data-key ="83" src="sounds/Re.wav"></audio>
<audio data-key ="68" src="sounds/Mi.wav"></audio>
<audio data-key ="70" src="sounds/Fa.wav"></audio>
<audio data-key ="71" src="sounds/Sol.wav"></audio>
<audio data-key ="72" src="sounds/La.wav"></audio>
<audio data-key ="74" src="sounds/Si.wav"></audio>




<script>

	function playSound(e){
	 const audio = document.querySelector(`audio[data-key="${e.keyCode}"`); <!--plantillas de cadena de texto-->
	 const key = document.querySelector(`.key[data-key="${e.keyCode}"`);
	 console.log(audio)
	 if(!audio) return;
	 audio.currentTime = 0;
	 audio.play();
	 key.classList.add('playing');
	
	}

	function removeTransition(e){
		if(e.propertyName !== 'transform') return; 
		this.classList.remove('playing');
	}

	const keys = document.querySelectorAll('.key');
	keys.forEach(key => key.addEventListener('transitionend', removeTransition));
	window.addEventListener('keydown', playSound);
</script>    	

</body>	

</html>